<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
          name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
  />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>DevOps</title>
  <link
          rel="icon"
          type="image/svg+xml"
          href="https://www.loora.ai/favicon.png"
  />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      font-family: Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
    }

    .app {
      width: 100%;
      margin: auto;
    }

    .section-header {
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      padding: 20px;
      background: #fff;
      border-radius: 12px;

      color: hsl(215, 15%, 12%);
      max-width: 1050px;
      margin: 40px auto 20px auto;
    }

    .section {
      margin: 0 auto 40px;
      max-width: 720px;
    }

    .cards {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      justify-content: center;
      width: 100%;
    }

    .card-wrapper {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .card {
      position: relative;
      flex: 1 1 auto;
      justify-content: center;
      align-items: center;
      box-shadow:
              rgb(255, 255, 255) 0 2px 0px inset,
              rgba(232, 234, 238, 0.3) 0px -2px 0px inset,
              rgba(223, 226, 231, 0.5) 0px 1px 2px 0px;

      color: hsl(215, 15%, 12%);
      border-radius: 12px;
      border: 1px solid hsl(215, 15%, 92%);
      transition:
              border 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
              box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
              transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
      padding: 28px;
      background: #fff;
    }

    .card:hover {
      border-color: hsl(210, 100%, 80%);
      box-shadow: 0 2px 8px hsl(210, 100%, 90%);
    }

    .card img {
      width: 80px;
      height: 80px;
      overflow: hidden;
      margin: 0 auto;
      object-fit: contain;
    }

    .card h3 {
      margin: 0 0 10px;
      font-size: 18px;
    }

    .card-status-links {
      display: flex;
      flex-wrap: wrap;
      column-gap: 20px;
      padding: 0 20px;
    }

    .card-status-links .status-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      text-decoration: none;
      color: grey;
    }

    .card-status-links .status-item:hover {
      color: unset;
      text-decoration: underline;
    }

    .card-status-links .status-item span {
      margin-right: 8px;
    }

    .card-status-links .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      display: inline-block;
    }

    .loading {
      background-color: grey;
    }

    .success {
      background-color: green;
    }

    .error {
      background-color: red;
    }
  </style>
</head>
<body>
<div id="app" class="app">
  <div v-for="group in cardGroups" :key="group.id" class="section">
    <h2 class="section-header">{{ group.title }}</h2>
    <div class="cards">
      <div
              v-for="item in group.cards"
              :key="item.title"
              class="card-wrapper"
      >
        <div class="card">
          <img :src="item.image" :alt="item.title" />
          <h3>{{ item.title }}</h3>
          <a :href="item.link" target="_blank">Visit Portal</a>
        </div>
        <div class="card-status-links">
          <a
                  v-for="status in item.statusLinks"
                  :href="status.link"
                  target="_blank"
                  :key="status.link"
                  class="status-item"
          >
            <span>{{ status.label }}</span>
            <div :class="['status-dot', status.state]"></div>
          </a>
        </div>

        <!-- Rendering Status Links with Fetch Results -->
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/vue@3"></script>
<script>
  const app = Vue.createApp({
    data() {
      return {
        cardGroups: [
          {
            id: 1,
            title: "Admin Portals",
            cards: [
              {
                title: "JumpCloud AdminPortal",
                image:
                        "https://jumpcloud.com/wp-content/uploads/2023/03/jumpcloud.png",
                link: "https://console.jumpcloud.com/#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "API Server",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Database",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Cache Service",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Authentication Service",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Messaging Queue",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud AdminPortal",
                image:
                        "https://jumpcloud.com/wp-content/uploads/2023/03/jumpcloud.png",
                link: "https://console.jumpcloud.com/#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "API Server",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Messaging Queue",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud AdminPortal",
                image:
                        "https://jumpcloud.com/wp-content/uploads/2023/03/jumpcloud.png",
                link: "https://console.jumpcloud.com/#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "API Server",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Database",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Cache Service",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Authentication Service",
                    state: "loading",
                  },
                  {
                    link: "https://status.aws.amazon.com/",
                    label: "Messaging Queue",
                    state: "loading",
                  },
                ],
              },
            ],
          },
          {
            id: 2,
            title: "User Portals",
            cards: [
              {
                title: "JumpCloud UserPortal",
                image:
                        "https://i0.wp.com/securityaffairs.com/wp-content/uploads/2023/07/image-27.png?ssl=1",
                link: "https://console.jumpcloud.com/userconsole#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "JumpCloud Status",
                    state: "loading",
                  },
                  {
                    link: "https://status.google.com",
                    label: "Google Status",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud UserPortal",
                image:
                        "https://i0.wp.com/securityaffairs.com/wp-content/uploads/2023/07/image-27.png?ssl=1",
                link: "https://console.jumpcloud.com/userconsole#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "JumpCloud Status",
                    state: "loading",
                  },
                  {
                    link: "https://status.google.com",
                    label: "Google Status",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud UserPortal",
                image:
                        "https://i0.wp.com/securityaffairs.com/wp-content/uploads/2023/07/image-27.png?ssl=1",
                link: "https://console.jumpcloud.com/userconsole#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "JumpCloud Status",
                    state: "loading",
                  },
                  {
                    link: "https://status.google.com",
                    label: "Google Status",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud UserPortal",
                image:
                        "https://i0.wp.com/securityaffairs.com/wp-content/uploads/2023/07/image-27.png?ssl=1",
                link: "https://console.jumpcloud.com/userconsole#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "JumpCloud Status",
                    state: "loading",
                  },
                  {
                    link: "https://status.google.com",
                    label: "Google Status",
                    state: "loading",
                  },
                ],
              },
              {
                title: "JumpCloud UserPortal",
                image:
                        "https://i0.wp.com/securityaffairs.com/wp-content/uploads/2023/07/image-27.png?ssl=1",
                link: "https://console.jumpcloud.com/userconsole#/",
                statusLinks: [
                  {
                    link: "https://status.jumpcloud.com",
                    label: "JumpCloud Status",
                    state: "loading",
                  },
                  {
                    link: "https://status.google.com",
                    label: "Google Status",
                    state: "loading",
                  },
                ],
              },
            ],
          },
        ],
      };
    },
    mounted() {
      this.cardGroups.forEach((group) => {
        group.cards.forEach((card) => {
          card.statusLinks.forEach((statusLink) => {
            this.fetchStatus(statusLink);
          });
        });
      });
    },
    methods: {
      async fetchStatus(statusLink) {
        try {
          // Make the fetch request
          const response = await fetch(statusLink.link);

          // If response is OK (status 2xx), set status to 'success'
          if (response.ok) {
            statusLink.state = "success";
          } else {
            // Otherwise, set it to 'error'
            statusLink.state = "error";
          }
        } catch (error) {
          // Handle network errors
          statusLink.state = "error";
        }
      },
    },
  });

  app.mount("#app");
</script>
</body>
</html>
